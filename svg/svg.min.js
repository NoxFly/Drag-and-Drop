class SVG{constructor(t,e,i){if(!isNaN(this.name))return console.warn("The name of the SVG must be a string"),!1;e?(this.width=e,this.height=i):(this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight),this.height=i||document.documentElement.clientHeight,this.data=[],this.name=t,this.type="svg",this.index=0,this.xmlns="http://www.w3.org/2000/svg",this.defaultColor="none";let s=document.createElementNS(this.xmlns,"svg");document.body.appendChild(s),s.setAttribute("class",t),Object.assign(s.style,{width:e,height:i,display:"inline-block"})}draw(){this.reset();for(let t in this.data){let e=this.data[t],i=document.createElementNS(this.xmlns,e.type);switch(document.getElementsByClassName(this.name)[0].appendChild(i),i.setAttribute("class","s"+e.id),Object.assign(i.style,{display:"inline-block",stroke:e.strokeColor,strokeWidth:e.strokeWidth,fill:e.background}),e.type){case"line":setAttributes(i,{x1:e.coord[0],y1:e.coord[1],x2:e.coord[2],y2:e.coord[3]});break;case"polyline":i.setAttributeNS(null,"points",e.coord);break;case"circle":setAttributes(i,{cx:e.x,cy:e.y,r:e.r});break;case"ellipse":setAttributes(i,{x:e.x,y:e.y,rx:e.rx,ry:e.ry});break;case"path":i.setAttributeNS(null,"d",e.d);break;case"text":setAttributes(i,{x:e.x,y:e.y,"font-size":e.fontSize}),i.appendChild(document.createTextNode(e.text));break;case"image":setAttributes(i,{x:e.x,y:e.y,width:e.width,height:e.height,href:e.imageUrl})}}}reset(){this.name&&(document.getElementsByClassName(this.name)[0].innerHTML="")}line(t,e,i,s,a,l){return t=t||0,e=e||0,i=i||0,s=s||0,a=a||this.defaultColor,l=l||1,this.data.push({type:"line",coord:[t,e,i,s],color:a,size:l,id:this.index++}),this.data[this.index-1]}polyline(t,e,i,s){if(t=t||[],e=e||this.defaultColor,i=i||this.defaultColor,s=s||1,"object"==typeof t)!0===t[t.length-1]&&(t[t.length-1]=t[0]),t=this.createPolyline(t);else{let e=t.split(" ")[0];t=t.replace(/z$/," "+e)}return this.data.push({type:"polyline",coord:t,background:e,strokeColor:i,strokeWidth:s,id:this.index++}),this.data[this.index-1]}circle(t,e,i,s,a,l){return t=t||0,e=e||0,i=i||0,s=s||this.defaultColor,a=a||this.defaultColor,l=l||1,this.data.push({type:"circle",x:t,y:e,r:i,background:s,strokeColor:a,strokeWidth:l,id:this.index++}),this.data[this.index-1]}ellipse(t,e,i,s,a,l,o){return t=t||0,i=i||0,e=e||0,s=s||0,a=a||this.defaultColor,l=l||this.defaultColor,o=o||1,this.data.push({type:"ellipse",x:t,y:e,rx:i,ry:s,background:a,strokeColor:l,strokeWidth:o,id:this.index++}),this.data[this.index-1]}arc(t,e,i,s,a,l,o,r){t=t||0,e=e||0,s=s||0,a=a||0,l=l||this.defaultColor,o=o||this.defaultColor,r=r||1;let n={x:t+i*Math.cos((a-90)*Math.PI/180),y:e+i*Math.cos((a-90)*Math.PI/180)},d={x:t+i*Math.cos((s-90)*Math.PI/180),y:e+i*Math.cos((s-90)*Math.PI/180)},h=a-s<=180?"0":"1",c=["M",n.x,n.y,"A",i,i,0,h,0,d.x,d.y].join(" ");return this.data.push({type:"path",d:c,background:l,strokeColor:o,strokeWidth:r,id:this.index}),this.data[this.index-1]}path(t,e,i,s){return t=t||"",e=e||this.defaultColor,i=i||this.defaultColor,s=s||1,this.data.push({type:"path",d:t,background:e,strokeColor:i,strokeWidth:s,id:this.index++}),this.data[this.index-1]}image(t,e,i,s,a){return e=e||0,i=i||0,s=s||0,a=a||0,/^(https?)/.test(t=t||"")?(console.alert("We don't accept online URL request"),!1):(this.data.push({type:"image",imageUrl:t,x:s,y:a,width:e,height:i,id:this.index++}),this.data[this.index-1])}text(t,e,i,s){return t=t||"",s=s||"1em",e=e||0,i=i||0,this.data.push({type:"text",x:e,y:i,fontSize:s,text:t,id:this.index++}),this.data[this.index-1]}remove(t){t?this.data.splice(t.id,1):this.data=[],this.draw()}hide(t){t?document.querySelector(".s"+t.id).style.display="none":document.querySelector("."+this.name).style.display="none"}show(t){t?document.querySelector(".s"+t.id).style.display="block":document.querySelector("."+this.name).style.display="block",this.draw()}opacity(t,e){if(isNaN(t))console.warn("alpha must be a value between 0 and 1");else{t=t>=0&&t<=1?t:1;let i=e?".s"+e.id:"."+this.name;document.querySelector(i).style.opacity=t}}fadeIn(t,e){if(!(e=elementExists(e))||isNaN(t))return!1;e.style.display="block";let i=0,s=setInterval(function(){(i+=.1)>=1&&(clearInterval(s),i=1),e.style.opacity=i,e.style.filter="alpha(opacity="+i+")"},t/60)}fadeOut(t,e){if(!(e=elementExists(e))||isNaN(t))return!1;let i=1,s=setInterval(function(){(i-=.1)<=.1&&(clearInterval(s),i=0,e.style.display="none"),e.style.opacity=i,e.style.filter="alpha(opacity="+i+")"},t/60)}moveTo(t,e,i){if(!elementExists(t))return console.warn("The element to move must be an SVG element, except a path"),!1;if(isNaN(e)||isNaN(i))return console.warn("Coordonates must be values"),!1;if("path"==t.type){t.d.split(" ")[0].replace(/[a-zA-Z]/,""),t.d.split(" ")[1];console.warn("Cannot move path for now")}else/polyline|line/.test(t.type)?(this.data[t.id].x1=e,this.data[t.id].y1=i,this.data[t.id].x2=e+(t.x2-t.x1),this.data[t.id].y2=i+(t.y2-t.y1)):(this.data[t.id].x=e,this.data[t.id].y=i);this.draw()}fill(t,e){let i=elementExists(t);return!!i&&(!!hexValue(e)&&void(i.style.fill=e))}stroke(t,e){let i=elementExists(t);return!!i&&(!!hexValue(e)&&void(i.style.stroke=e))}strokeWidth(t,e){let i=elementExists(t);return!!i&&(!!hexValue(e)&&void(i.style.strokeWidth=e))}createPolyline(t){let e="";for(let i in t)e+=t[i][0]+","+t[i][1],i<t.length-1&&(e+=" ");return e}rect(t,e,i,s,a,l,o){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this.polyline([[t,e],[t+i,e],[t+i,e+s],[t,e+s],!0],a,l,o)}setDefaultColor(t){this.defaultColor=t}}function setAttributes(t,e){for(var i in e)t.setAttributeNS(null,i,e[i])}function elementExists(t){try{return document.querySelector(".s"+t.id)}catch(e){return console.warn("This element does not exists: "+t),!1}}function hexValue(t){return/#([0-9a-fA-F]){6}/.test(t)}